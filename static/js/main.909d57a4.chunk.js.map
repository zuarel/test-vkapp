{"version":3,"sources":["components/SubscriptionItem.js","App.js","index.js"],"names":["SubscriptionItem","props","item","source","subscribe","unsubscribe","isSubscriptionPage","unsubscribeColor","subscribeColor","className","name","count","isSubscribed","data-source","onClick","style","backgroundColor","getObjectFromURL","url","slice","split","reduce","acc","key","value","buildQuery","params","Object","entries","map","join","App","hashObject","window","location","hash","searchObject","search","vk_group_id","user_vk_id","vk_user_id","subscriptionId","s","useState","subscriptions","setSubscriptions","isGroupInfoLoading","setGroupInfoLoading","popout","setPopout","description","avatar","banner","groupInfo","setGroupInfo","loadGroupInfo","a","fetch","method","group_id","res","json","data","status","Error","subscribe_color","unsubscribe_color","actions","title","autoclose","onClose","message","find","subscription","id","pageDescription","subscribeItem","subscribe_id","text","i","lastPressedItem","connect","detail","type","onSubscribe","showSpinner","res1","is_messages_from_group_allowed","send","openSubscribeModal","alert","toString","unsubscribeItem","onUnsubscribe","openUnsubscribeModal","unsubscribeAll","showDialogLink","top","href","size","stretched","useEffect","activePanel","textAlign","src","alt","maxWidth","padding","borderRadius","marginRight","filter","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.909d57a4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst SubscriptionItem = (props) => {\r\n    const {\r\n        item,\r\n        source,\r\n        subscribe,\r\n        unsubscribe,\r\n        isSubscriptionPage,\r\n        unsubscribeColor,\r\n        subscribeColor\r\n    } = props;\r\n    \r\n    return (\r\n        <div className={`subscriptions-group-item ${isSubscriptionPage && 'subscription-page'}`}>\r\n            <div className=\"subscriptions-group-item__info\">\r\n                <p className=\"subscriptions-group-item__title\">{item.name}</p>\r\n                <p className=\"subscriptions-group-item__count\">Подписчиков: {item.count}</p>\r\n            </div>\r\n            <div className=\"subscriptions-group-item__action-block\">\r\n\r\n                {item.isSubscribed\r\n                    ? <button data-source={source}\r\n                        onClick={() => unsubscribe(item)}\r\n                        style={{backgroundColor: unsubscribeColor ? unsubscribeColor : ''}}\r\n                        className=\"subscriptions-group-button unsubscribe-button\">Отписаться</button>\r\n                    : <button data-source={source}\r\n                        onClick={() => subscribe(item)}\r\n                        style={{backgroundColor: subscribeColor ? subscribeColor : ''}}\r\n                        className=\"subscriptions-group-button subscribe-button\">Подписаться</button>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscriptionItem;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/vkapp.css';\r\n\r\nimport { Panel, PanelHeader, Alert, Div, Button, ScreenSpinner } from '@vkontakte/vkui';\r\nimport SubscriptionItem from './components/SubscriptionItem';\r\n\r\nconst getObjectFromURL = (url) => {\r\n    const search = url.slice(1);\r\n    const params = search.split('&');\r\n\r\n    return params.reduce((acc, item) => {\r\n\r\n        const [key, value] = item.split('=');\r\n\r\n        acc[key] = value;\r\n\r\n        return acc;\r\n    }, {});\r\n};\r\n\r\nconst buildQuery = (params) => {\r\n    return Object.entries(params).map((item) => item.join('=')).join('&');\r\n}\r\n\r\nconst App = () => {\r\n\r\n    const hashObject = getObjectFromURL(window.location.hash);\r\n    const searchObject = getObjectFromURL(window.location.search);\r\n\r\n    const vk_group_id = searchObject.vk_group_id || '';\r\n    const user_vk_id = searchObject.vk_user_id;\r\n    const subscriptionId = hashObject.s || '';\r\n\r\n    const [subscriptions, setSubscriptions] = useState([]);\r\n    const [isGroupInfoLoading, setGroupInfoLoading] = useState(false);\r\n    const [popout, setPopout] = useState(null);\r\n    const [groupInfo, setGroupInfo] = useState({\r\n        description: '',\r\n        avatar: '',\r\n        name: '',\r\n        banner: '',\r\n        unsubscribeColor: '',\r\n        subscribeColor: ''\r\n    });\r\n\r\n    const loadGroupInfo = async () => {\r\n        if (isGroupInfoLoading) {\r\n            return;\r\n        }\r\n\r\n        setGroupInfoLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('https://smm-n.targethunter.dev/ajax?' + buildQuery({ method: 'vkapp.load_info', group_id: vk_group_id, user_vk_id }));\r\n            const { subscriptions, ...data } = await res.json();\r\n\r\n\r\n            if (data.status !== 'ok') {\r\n                throw new Error('Не удалось загрузить данные.');\r\n            }\r\n\r\n            setGroupInfo({\r\n                ...groupInfo,\r\n                description: data.description,\r\n                avatar: data.avatar,\r\n                name: data.name,\r\n                banner: data.banner,\r\n                subscribeColor: data.subscribe_color,\r\n                unsubscribeColor: data.unsubscribe_color\r\n            });\r\n\r\n            setSubscriptions(subscriptions);\r\n        } catch (error) {\r\n            setGroupInfoLoading(true);\r\n\r\n            setPopout(<Alert\r\n                actions={[{\r\n                    title: 'закрыть',\r\n                    autoclose: true,\r\n                    style: 'cancel'\r\n                }]}\r\n                onClose={() => setPopout(null)}\r\n            >\r\n                <h2>Что-то пошло не так.</h2>\r\n                <p>{error.message}</p>\r\n            </Alert>);\r\n        }\r\n    };\r\n\r\n    const source = subscriptionId ? 2 : 1;\r\n\r\n    const item = subscriptions.find(subscription => subscription.id === subscriptionId);\r\n\r\n    const pageDescription = item\r\n        ? (item.description || '')\r\n        : groupInfo.description || '';\r\n\r\n    const subscribeItem = async (item) => {\r\n        const res = await fetch('https://smm-n.targethunter.dev/ajax?' + buildQuery({\r\n            user_vk_id,\r\n            method: 'vkapp.subscribe_user',\r\n            subscribe_id: item.id,\r\n            group_id: vk_group_id,\r\n        }));\r\n\r\n        const { status, ...data } = await res.json();\r\n\r\n        if (status !== 'ok') {\r\n            throw new Error(data.text || 'Что-то пошло не так. Не удалось подписаться');\r\n        }\r\n\r\n        const s = subscriptions.map(item => item);\r\n        const i = s.find(subscription => subscription.id === item.id);\r\n\r\n        i.isSubscribed = true;\r\n        i.count = item.count + 1\r\n\r\n        setSubscriptions(s);\r\n    };\r\n\r\n    let lastPressedItem = null;\r\n\r\n    connect.subscribe(async ({ detail: { type } }) => {\r\n        if (type === 'VKWebAppAllowMessagesFromGroupResult') {\r\n            await subscribeItem(lastPressedItem);\r\n        }\r\n    });\r\n\r\n    const onSubscribe = async (item) => {\r\n\r\n        showSpinner();\r\n\r\n        lastPressedItem = item;\r\n\r\n        try {\r\n            const res1 = await fetch('https://smm-n.targethunter.dev/ajax?' + buildQuery({\r\n                user_vk_id,\r\n                method: 'vkapp.check_allowed',\r\n                group_id: vk_group_id,\r\n            }));\r\n\r\n            const { is_messages_from_group_allowed } = await res1.json();\r\n\r\n            if (!is_messages_from_group_allowed) {\r\n                connect.send('VKWebAppAllowMessagesFromGroup', { group_id: +vk_group_id });\r\n                setPopout(null);\r\n                return;\r\n            }\r\n\r\n            await subscribeItem(item);\r\n            openSubscribeModal(true);\r\n        } catch (error) {\r\n            alert(error.toString());\r\n        }\r\n\r\n        lastPressedItem = null;\r\n    };\r\n\r\n    const unsubscribeItem = async (item) => {\r\n        try {\r\n            const res = await fetch('https://smm-n.targethunter.dev/ajax?' + buildQuery({\r\n                user_vk_id,\r\n                method: 'vkapp.unsubscribe_user',\r\n                subscribe_id: item.id,\r\n                group_id: vk_group_id,\r\n            }));\r\n\r\n            const { status, ...data } = await res.json();\r\n\r\n            if (status !== 'ok') {\r\n                throw new Error(data.text || 'Что-то пошло не так. Не удалось отписаться');\r\n            }\r\n\r\n            item.isSubscribed = false;\r\n            item.count = item.count - 1\r\n\r\n            return item;\r\n\r\n        } catch (error) {\r\n            alert(error.toString());\r\n        }\r\n    }\r\n\r\n    const onUnsubscribe = async (item) => {\r\n\r\n        showSpinner();\r\n\r\n        var s = subscriptions.map(item => item);\r\n        var i = s.find(subscription => subscription.id === item.id);\r\n\r\n        await unsubscribeItem(i);\r\n\r\n        setSubscriptions(s);\r\n        openUnsubscribeModal();\r\n    };\r\n\r\n    const unsubscribeAll = async () => {\r\n\r\n        showSpinner();\r\n        try {\r\n            const res = await fetch('https://smm-n.targethunter.dev/ajax?' + buildQuery({\r\n                user_vk_id,\r\n                method: 'vkapp.unsubscribe_all',\r\n                group_id: vk_group_id,\r\n            }));\r\n\r\n\r\n            const data = await res.json();\r\n\r\n            if (data.status !== 'ok') {\r\n                throw new Error(data.text || 'Что-то пошло не так. Не удалось отписаться');\r\n            }\r\n\r\n            showSpinner();\r\n\r\n            const s = subscriptions.map(item => item);\r\n\r\n            for (const subscription of s) {\r\n                if (!subscription.isSubscribed) {\r\n                    continue;\r\n                }\r\n\r\n                await unsubscribeItem(subscription);\r\n            }\r\n\r\n            setSubscriptions(s);\r\n            openUnsubscribeModal();\r\n        } catch (error) {\r\n            alert(error.toString());\r\n        }\r\n    };\r\n\r\n    const openSubscribeModal = (showDialogLink) => {\r\n\r\n        setPopout(<Alert\r\n            actions={[{\r\n                title: 'закрыть',\r\n                autoclose: true,\r\n                style: 'cancel'\r\n            }]}\r\n            onClose={() => setPopout(null)}\r\n        >\r\n            <h2>Вы успешно подписались на рссылку.</h2>\r\n            <p>Рассылка скоро придёт Вам в личные сообщения.</p>\r\n\r\n            {showDialogLink && <Div>\r\n                <Button onClick={() => window.top.location.href = 'https://vk.com/im?sel=-' + vk_group_id} size=\"l\" stretched>Перейти к сообщениям</Button>\r\n            </Div>}\r\n        </Alert>);\r\n    }\r\n\r\n    const openUnsubscribeModal = () => {\r\n        setPopout(<Alert\r\n            actions={[{\r\n                title: 'закрыть',\r\n                autoclose: true,\r\n                style: 'cancel'\r\n            }]}\r\n            onClose={() => setPopout(null)}\r\n        >\r\n            <h2>Вы отписаны.</h2>\r\n            <p>Рассылка Вам больше не будет приходить.</p>\r\n        </Alert>);\r\n    }\r\n\r\n    const showSpinner = () => {\r\n        setPopout(<ScreenSpinner size=\"large\" />);\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadGroupInfo();\r\n    });\r\n\r\n    return (\r\n        <View popout={popout} activePanel=\"main\">\r\n            <Panel id=\"main\">\r\n                <PanelHeader>Рассылка сообщений</PanelHeader>\r\n                <div style={{ textAlign: 'center' }}>\r\n                    {item && item.banner\r\n                        && <img src={item.banner} alt=\"Баннер\" style={{ maxWidth: '100%' }}></img>}\r\n\r\n                    {groupInfo.banner\r\n                        && <img src={groupInfo.banner} alt=\"Баннер\" style={{ maxWidth: '100%' }}></img>}\r\n                </div>\r\n\r\n                <div style={{ padding: '15px' }}>\r\n\r\n                    {((!item || !item.banner) && !groupInfo.banner)\r\n                        && <p className=\"page-title\">\r\n                            <img src={groupInfo.avatar} alt=\"Аватарка паблика\" style={{ borderRadius: '50%', marginRight: '16px' }} />\r\n                            {groupInfo.name}</p>\r\n                    }\r\n\r\n                    <p className=\"page-description\">{pageDescription}</p>\r\n\r\n\r\n                    {subscriptions.filter(subscription => (!subscriptionId || subscription.id === subscriptionId)).map(subscription =>\r\n                        <SubscriptionItem\r\n                            item={subscription}\r\n                            source={source}\r\n                            subscribe={onSubscribe}\r\n                            unsubscribe={onUnsubscribe}\r\n                            subscribeColor={groupInfo.subscribeColor}\r\n                            unsubscribeColor={groupInfo.unsubscribeColor}\r\n                            isSubscriptionPage={!!item}\r\n                            key={subscription.id} />\r\n                    )}\r\n\r\n                    {subscriptions.filter(item => item.isSubscribed).length > 0 && <div style={{ textAlign: 'center' }}>\r\n                        <button\r\n                            onClick={unsubscribeAll}\r\n                            data-source=\"1\" style={{ backgroundColor: groupInfo.unsubscribeColor }}\r\n                            className=\"subscriptions-group-button unsubscribe-button unsubscribe-all\"\r\n                            id=\"unsubscribe-all\">Отписаться от всех рассылок</button>\r\n                    </div>}\r\n                </div>\r\n            </Panel>\r\n        </View >\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}