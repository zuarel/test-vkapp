{"version":3,"sources":["App.js","index.js"],"names":["getObjectFromURL","url","slice","split","reduce","acc","item","key","value","App","hashObject","window","location","hash","search","vk_group_id","s","useState","subscriptions","setSubscriptions","t","setT","useEffect","fetch","then","response","json","data","name","count","id","banner","activePanel","style","padding","className","src","alt","borderRadius","marginRight","JSON","stringify","map","subscription","data-source","data-id","connect","send","ReactDOM","render","document","getElementById"],"mappings":"kjBAQMA,EAAmB,SAACC,GAKtB,OAHeA,EAAIC,MAAM,GACHC,MAAM,KAEdC,QAAO,SAACC,EAAKC,GAAU,IAAD,EAEXA,EAAKH,MAAM,KAFA,mBAEzBI,EAFyB,KAEpBC,EAFoB,KAMhC,OAFAH,EAAIE,GAAOC,EAEJH,IACR,KA4DQI,EAxDH,WAER,IAAMC,EAAaV,EAAiBW,OAAOC,SAASC,MAFtC,GAGOb,EAAiBW,OAAOC,SAASE,QAErBC,YACTL,EAAWM,EAEOC,mBAAS,KARrC,mBAQPC,EARO,KAQQC,EARR,OASIF,mBAAS,MATb,mBASPG,EATO,KASJC,EATI,KAwBd,OAbAC,qBAAU,WAENC,MAAM,wDACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIN,EAAKM,MAEvBR,EAAiB,CACb,CAAES,KAAM,OAAQC,MAAO,EAAGC,GAAI,EAAGC,OAAQ,yDACzC,CAAEH,KAAM,QAASC,MAAO,EAAGC,GAAI,QAMnC,kBAAC,IAAD,CAAME,YAAY,QACd,kBAAC,IAAD,CAAOF,GAAG,QACN,kBAAC,IAAD,gHACA,yBAAKG,MAAO,CAAEC,QAAS,SACnB,uBAAGC,UAAU,cACT,yBAAKC,IAAI,6EAA6EC,IAAI,8FAAmBJ,MAAO,CAAEK,aAAc,MAAOC,YAAa,UAD5J,gBAIA,uBAAGJ,UAAU,oBAAb,oqCAICK,KAAKC,UAAUrB,GAEfF,EAAcwB,KAAI,SAAAC,GAAY,OAC3B,yBAAKpC,IAAKoC,EAAab,GAAIK,UAAU,4BACjC,yBAAKA,UAAU,kCACX,uBAAGA,UAAU,mCAAmCQ,EAAaf,MAC7D,uBAAGO,UAAU,mCAAb,uEAA6DQ,EAAad,QAE9E,yBAAKM,UAAU,0CACX,4BAAQS,cAAY,IAAIT,UAAU,8CAA8CU,UAASF,EAAab,IAAtG,+EC7DhCgB,IAAQC,KAAK,gBASbC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.a07f6503.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/vkapp.css';\n\nimport { Panel, PanelHeader } from '@vkontakte/vkui';\n\nconst getObjectFromURL = (url) => {\n    const obj = {};\n    const search = url.slice(1);\n    const params = search.split('&');\n\n    return params.reduce((acc, item) => {\n\n        const [key, value] = item.split('=');\n\n        acc[key] = value;\n\n        return acc;\n    }, {});\n};\n\n\nconst App = () => {\n\n    const hashObject = getObjectFromURL(window.location.hash);\n    const searchObject = getObjectFromURL(window.location.search);\n\n    const vk_group_id = searchObject.vk_group_id || '';\n    const subscription_id = hashObject.s || '';\n\n    const [subscriptions, setSubscriptions] = useState([]);\n    const [t, setT] = useState(null);\n\n    useEffect(() => {\n\n        fetch('https://smm-n.targethunter.dev/api/subscriptions/get')\n            .then(response => response.json())\n            .then(data => setT(data));\n\n        setSubscriptions([\n            { name: 'test', count: 1, id: 5, banner: 'https://scx1.b-cdn.net/csz/news/800/2019/1-nature.jpg' },\n            { name: 'test2', count: 3, id: 6 },\n        ]);\n\n    });\n\n    return (\n        <View activePanel=\"main\">\n            <Panel id=\"main\">\n                <PanelHeader>Рассылка сообщений</PanelHeader>\n                <div style={{ padding: '15px' }}>\n                    <p className=\"page-title\">\n                        <img src=\"https://sun9-44.userapi.com/c845418/v845418151/d56e6/f677KFnZxQ8.jpg?ava=1\" alt=\"Аватарка паблика\" style={{ borderRadius: '50%', marginRight: '16px' }}></img>\n                        Pictures box\n                    </p>\n                    <p className=\"page-description\">В этом списке рассылок можете выбрать те рассылки нашего сообщества,\n                        которые будут приходить в максимально неудобное вам время и которые вы не будете читать.\n                    Независимо от этого мы будем их вам присылать, так что подумайте дважды</p>\n\n                    {JSON.stringify(t)}\n\n                    {subscriptions.map(subscription => (\n                        <div key={subscription.id} className=\"subscriptions-group-item\">\n                            <div className=\"subscriptions-group-item__info\">\n                                <p className=\"subscriptions-group-item__title\">{subscription.name}</p>\n                                <p className=\"subscriptions-group-item__count\">Подписчиков: {subscription.count}</p>\n                            </div>\n                            <div className=\"subscriptions-group-item__action-block\">\n                                <button data-source=\"1\" className=\"subscriptions-group-button subscribe-button\" data-id={subscription.id}>Подписаться</button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </Panel>\n        </View >\n    );\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}