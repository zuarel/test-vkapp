{"version":3,"sources":["components/SubscriptionItem.js","components/SubscribersList.js","App.js","index.js"],"names":["SubscriptionItem","item","className","name","count","data-source","id","SubscriptionsList","subscriptions","map","subscription","key","getObjectFromURL","url","slice","split","reduce","acc","value","App","hashObject","window","location","hash","subscriptionId","search","vk_group_id","s","useState","setSubscriptions","activePanel","style","padding","src","alt","borderRadius","marginRight","find","connect","send","ReactDOM","render","document","getElementById"],"mappings":"kjBAkBeA,EAhBU,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACxB,OACI,yBAAKC,UAAU,4BACX,yBAAKA,UAAU,kCACX,uBAAGA,UAAU,mCAAmCD,EAAKE,MACrD,uBAAGD,UAAU,mCAAb,uEAA6DD,EAAKG,QAEtE,yBAAKF,UAAU,0CACX,4BAAQG,cAAY,IAChBH,UAAU,8CACVI,GAAG,kBAFP,yECGDC,EAVW,SAAC,GAA4B,IAAD,IAAzBC,qBAAyB,MAAT,GAAS,EAClD,OACI,yBAAKN,UAAU,4BACVM,EAAcC,KAAI,SAAAC,GAAY,OAC3B,kBAAC,EAAD,CAAkBC,IAAKD,EAAaJ,GAAIL,KAAMS,SCGxDE,EAAmB,SAACC,GAKtB,OAHeA,EAAIC,MAAM,GACHC,MAAM,KAEdC,QAAO,SAACC,EAAKhB,GAAU,IAAD,EAEXA,EAAKc,MAAM,KAFA,mBAEzBJ,EAFyB,KAEpBO,EAFoB,KAMhC,OAFAD,EAAIN,GAAOO,EAEJD,IACR,KAuDQE,EAnDH,WAER,IAAMC,EAAaR,EAAiBS,OAAOC,SAASC,MAI9CC,GAHeZ,EAAiBS,OAAOC,SAASG,QAErBC,YACVN,EAAWO,GAAK,IANzB,EAQ4BC,mBAAS,IARrC,mBAQPpB,EARO,KAQQqB,EARR,OASkBD,oBAAS,GAT3B,6BA2Bd,OAJAA,oBAAS,WANLC,EAAiB,CACb,CAAEvB,GAAI,EAAGH,KAAM,SAAUC,MAAO,GAChC,CAAEE,GAAI,EAAGH,KAAM,SAAUC,MAAO,QASpC,kBAAC,IAAD,CAAM0B,YAAY,QACd,kBAAC,IAAD,CAAOxB,GAAG,QACN,kBAAC,IAAD,gHACA,yBAAKyB,MAAO,CAAEC,QAAS,SACnB,uBAAG9B,UAAU,cACT,yBAAK+B,IAAI,6EAA6EC,IAAI,8FAAmBH,MAAO,CAAEI,aAAc,MAAOC,YAAa,UAD5J,gBAIA,uBAAGlC,UAAU,oBAAb,oqCAIEsB,EAEI,kBAAC,EAAD,CAAkBvB,KAAMO,EAAc6B,MAAK,SAAA3B,GAAY,OAAIA,EAAaJ,IAAMkB,OAD9E,kBAAC,EAAD,CAAmBhB,cAAeA,QC1D5D8B,IAAQC,KAAK,gBASbC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.a9d2fbef.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst SubscriptionItem = ({ item }) => {\r\n    return (\r\n        <div className=\"subscriptions-group-item\">\r\n            <div className=\"subscriptions-group-item__info\">\r\n                <p className=\"subscriptions-group-item__title\">{item.name}</p>\r\n                <p className=\"subscriptions-group-item__count\">Подписчиков: {item.count}</p>\r\n            </div>\r\n            <div className=\"subscriptions-group-item__action-block\">\r\n                <button data-source=\"2\"\r\n                    className=\"subscriptions-group-button subscribe-button\"\r\n                    id=\"subscribe-user\">Подписаться</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscriptionItem;","import React, { useState, useEffect } from 'react';\r\nimport SubscriptionItem from './SubscriptionItem';\r\n\r\nconst SubscriptionsList = ({ subscriptions = [] }) => {\r\n    return (\r\n        <div className=\"subscription-group-lists\">\r\n            {subscriptions.map(subscription => (\r\n                <SubscriptionItem key={subscription.id} item={subscription} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscriptionsList;","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/vkapp.css';\n\nimport { Panel, PanelHeader } from '@vkontakte/vkui';\nimport SubscriptionsList from './components/SubscribersList';\nimport SubscriptionItem from './components/SubscriptionItem';\n\nconst getObjectFromURL = (url) => {\n    const obj = {};\n    const search = url.slice(1);\n    const params = search.split('&');\n\n    return params.reduce((acc, item) => {\n\n        const [key, value] = item.split('=');\n\n        acc[key] = value;\n\n        return acc;\n    }, {});\n};\n\n\nconst App = () => {\n\n    const hashObject = getObjectFromURL(window.location.hash);\n    const searchObject = getObjectFromURL(window.location.search);\n\n    const vk_group_id = searchObject.vk_group_id || '';\n    const subscriptionId = hashObject.s || '';\n\n    const [subscriptions, setSubscriptions] = useState([]);\n    const [isLoading, setLoading] = useState(false);\n\n    const removeFromSubscriptions = (id) => {\n        const subs = subscriptions.filter(subscription => subscription.id !== id);\n        setSubscriptions(subs);\n    };\n\n    const load = () => {\n        setSubscriptions([\n            { id: 1, name: 'test 1', count: 1 },\n            { id: 2, name: 'test 2', count: 0 },\n        ]);\n    };\n\n    useState(() => {\n        load();\n    });\n\n    return (\n        <View activePanel=\"main\">\n            <Panel id=\"main\">\n                <PanelHeader>Рассылка сообщений</PanelHeader>\n                <div style={{ padding: '15px' }}>\n                    <p className=\"page-title\">\n                        <img src=\"https://sun9-44.userapi.com/c845418/v845418151/d56e6/f677KFnZxQ8.jpg?ava=1\" alt=\"Аватарка паблика\" style={{ borderRadius: '50%', marginRight: '16px' }}></img>\n                        Pictures box\n                    </p>\n                    <p className=\"page-description\">В этом списке рассылок можете выбрать те рассылки нашего сообщества,\n                        которые будут приходить в максимально неудобное вам время и которые вы не будете читать.\n                    Независимо от этого мы будем их вам присылать, так что подумайте дважды</p>\n\n                    {!subscriptionId\n                        ? <SubscriptionsList subscriptions={subscriptions} />\n                        : <SubscriptionItem item={subscriptions.find(subscription => subscription.id == subscriptionId)}/>\n                    }\n\n                </div>\n            </Panel>\n        </View >\n    );\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}